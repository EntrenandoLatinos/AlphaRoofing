{% extends "app_core/base.html" %}

{% load static %}

{% block head_title %}{{ block.super }} Home{% endblock head_title %}

{% block extra_styles %}
<style>
    .rs-banner.banner-style2 .banner-background {
        background: url("{{banner.image.url}}");
        position: relative;
        z-index: 0;
        overflow: hidden;
    }

    .rs-banner.banner-style2 .banner-background::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Cambia el último valor para ajustar la opacidad (0 = totalmente transparente, 1 = totalmente opaco) */
        z-index: 1; /* Asegura que la capa se superponga sobre el banner */
    }
    .title,
    .description p,
    .banner-btn {
        position: relative;
        z-index: 2; /* Asegura que el texto quede por encima de la capa con opacidad */
        color: #fff; /* Ajusta el color del texto según sea necesario */
        /* Otros estilos para el texto */
    }
    .custom_service {
        max-width: 100%; /* Ajusta el ancho máximo del contenedor al ancho del dispositivo */
        height: auto; /* Ajusta la altura automáticamente para mantener la relación de aspecto */
        overflow: hidden; /* Oculta cualquier parte de la imagen que se desborde del contenedor */
        max-width: 1200px; /* Ancho máximo del contenedor */
    }

    .custom_service img {
        width: 100%; /* Ajusta el ancho de la imagen al ancho del contenedor */
        height: auto; /* Ajusta la altura automáticamente para mantener la relación de aspecto */
        max-width: 1200px; /* Ancho máximo de la imagen */
        max-height: 670px; /* Altura máxima de la imagen */
        object-fit: cover; /* Mantiene la relación de aspecto original y cubre el contenedor */
    }

    @media (max-width: 991px) {
        .rs-services.services-style2 {
            margin-top: 0px;
            margin-bottom: 0px;
        }
    }
</style>
{% endblock extra_styles %}

{% block content %}

<!-- start Banner -->
    {% include 'app_core/snippets/banner3.html' %}
<!-- end Banner -->

<!-- start About -->
    {% include 'app_core/snippets/about.html' %}
<!-- end About -->

<!-- start Counters -->
    {% include 'app_core/snippets/counters.html' %}
<!-- end Counters -->

<!-- start Services -->
    {% include 'app_core/snippets/services.html' %}
<!-- end Services -->

<!-- start Partners -->
    {% include 'app_core/snippets/partners.html' %}
<!-- end Partners -->

<!-- start Gallery -->
    {% include 'app_core/snippets/gallery.html' %}
<!-- end Gallery -->

{% if about.image_google %}
    <!-- start Google Business -->
        {% include 'app_core/snippets/google_business.html' %}
    <!-- end Google Business -->
{% endif %}

<!-- start Testimonios -->
    {% include 'app_core/snippets/testimonials.html' %}
<!-- end Testimonios -->

<!-- start Social Media -->
    {% include 'app_core/snippets/social_media.html' %}
<!-- end Social Media -->

{% endblock content %}

{% block extra_javascript %}
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        // Función para animar los contadores
        function animateCounters() {
            const counters = document.querySelectorAll('.rs-count');
            const options = {
                threshold: 0.5 // Cuando el 50% de la sección de contadores está en el viewport
            };
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        counters.forEach(counter => {
                            const targetCount = parseInt(counter.innerText, 10);
                            let count = 0;
                            const animation = setInterval(() => {
                                counter.textContent = `${count++}`;
                                if (count > targetCount) {
                                    clearInterval(animation);
                                }
                            }, 45); // Ajusta el intervalo para una animación más fluida
                        });
                        observer.unobserve(entry.target); // Detiene la observación una vez que se activa la animación
                    }
                });
            }, options);
            document.querySelectorAll('.count-number').forEach(counter => {
                observer.observe(counter);
            });
        }
        animateCounters(); // Llama a la función para iniciar la animación de los contadores
    });
</script>
{% endblock extra_javascript %}